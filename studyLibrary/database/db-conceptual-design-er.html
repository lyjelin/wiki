<!doctype html>
<html>
    <head>
        <link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="../../favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="../../favicon/favicon-16x16.png">
        <link rel="manifest" href="../../favicon/site.webmanifest">
        <link rel="mask-icon" href="../../favicon/safari-pinned-tab.svg" color="#2b5797">
        <link rel="shortcut icon" href="../../favicon/favicon.ico">
        <meta name="msapplication-TileColor" content="#2b5797">
        <meta name="msapplication-config" content="../../favicon/browserconfig.xml">
        <meta name="theme-color" content="#2b5797">
            
        <title>db-conceptual-design-er</title>
        <meta charset="utf-8">
        <h1>Conceptual Design : ER Modeling</h1>
        <div><hr class="solid"></div>
    </head>

    <link rel="stylesheet" href="../../style.css?after">
    
    <body>
        <div>
            <input type="button" value="Return back to list" onclick="javascript:location.href='library-database.html'";style="color:#555555">
            
            <h2>ER Diagram</h2>
            
            <div><hr class="dashed"></div>
            
            <h3>1. Entity and Entity set</h3>
            <div>
                <ul>
                    <li><strong>Entity</strong> - an object that exists and is distinguishable from other object; <code><mark class="highlight-blue">customer</mark></code>, <code><mark class="highlight-blue">account</mark></code>, <code><mark class="highlight-blue">department</mark></code></li>
                    <li>Entities have Attributes - people have <code><mark class="highlight-blue">names</mark></code> and <code><mark class="highlight-blue">address</mark></code></li>
                    </li><strong>Entity set</strong> - A set of entities of the same type that share the same properties (or attributes); <code><mark class="highlight-blue">set of $$\forall$$ customers</mark></code> <code><mark class="highlight-blue">all saving accounts</mark></code> <code><mark class="highlight-blue">all departments in the company</mark></code></li>
                </ul>
                
                <hr class="dotted">
                
                <h3>In ER diagram</h3>
                <ul>
                    <li><code><mark class="highlight-brown">Rectangle</mark></code> - entity sets</li>
                    <li><code><mark class="highlight-brown">Ellipses</mark></code> - attributes </li>
                    <li><code><mark class="highlight-brown">Line</mark></code> between a rectangle and ellipse - link between an attribute and an entity set </li>
            </div>
            
            <div><hr class="dashed"></div>
            
            <h3>2. Relationship and Relationship set</h3>
            <div>
                <ul>
                    <li>A <code><mark class="highlight-teal">Relationship</mark></code> is an association among entities</li>
                        <ul>
                            <li>i.e. the relationship between the customers and the accounts</li>
                        </ul>
                    <li>A <code><mark class="highlight-teal">Relationship set</mark></code> is a set of relationships of the same type</li>
                </ul>
            </div>
                
            <div><hr class="dotted"></div>
                
            <h3>In ER diagram</h3>
            <div>
                <ul>
                    <li><code><mark class="highlight-brown">Diamond</mark></code> - a set of relationship</li>
                </ul>
            </div>
            
            <div><hr class="dashed"></div>
            
            <h3>3. Constraints</h3>
            <div>
                <ul>
                    <li><strong>Mapping cardinalities</strong></li>
                    <ul>
                        <li>Concerns the <mark class="highlight-blue">number of entities</mark> to which another entity can be associated via a relationship set</il>
                        <li>i.e. For each customer, how many accounts he/she can have? <mark class="highlight-orange">One or more than one</mark>?</li>
                    </ul>
                    <li><strong>Participation constraints</strong></li>
                    <ul>
                        <li>Concerns whether all entities in the entity set have to participate in the relationship set</li>
                        <li>i.e. whether a customer must have an account record, or there can be some customers without any accounts?</li>
                    </ul>
                </ul>
            </div>
              
            <div><hr class="dotted"></div>
              
            <h3>In ER diagram</h3>
            <div>
                <ul>
                    <li><code><mark class="highlight-brown">Directed line (→)</mark></code>, signifying <strong>one</strong> or An <code><mark class="highlight-brown">undirected line (-)</mark></code>, signifying <strong>many</strong>, between the relationship set and entity set</li>
                    
                    <img src="img/db-er-1.jpeg" alt="Mapping cardinality" style="width:400px">
                        
                    <li><code><mark class="highlight-brown">Double line (=)</mark></code> indicates <strong>Total participation</strong> : Every Entity in the entity set participates at least one relationship In the relationship set</li>
                    <li>Single line(-)</mark></code> indicates <strong>Partial participation</strong> : Some entity may not participate in any relationship in the relationship set</li>
                    
                    <img src="img/db-er-2.jpeg" alt="Participation constraints" style="width:400px">
                        
                </ul>
            </div>
            
            <div><hr class="dashed"></div>
            
            <h3>Practical Issues : As a professional DB designer, we have to be able to</h3>
            <ol style="line-height:1.2em;margin:10px">
                <li>Understand and model the data of an application using a ER diagram</li>
                <li>Interact with the client to work out a clear problem definition</li>
                <li>Realize the missing information and ask your client for clarification</li>
                <li>Provide professional suggestions to better design the database for the specific application</li>
            </ol>
            
            <div><hr class="dashed"></div>
            
            <h4>To Recap</h4>
            <div>
                <p tyle="line-height:1.2em">
                Entity and entity set, Entities have <code><mark class="highlight-brown">Attributes</mark></code><br>
                Relationship and relationship set<br>
                In the ER diagram:<br>
                &nbsp   <code><mark class="highlight-brown">rectangle</mark></code> - entity sets <br>
                &nbsp   <code><mark class="highlight-brown">ellipses</mark></code> - attributes <br>
                &nbsp   <code><mark class="highlight-brown">line</mark></code> - link between an attribute and an entity set
                Mapping cardinalities - <code><mark class="highlight-brown">many</mark></code> <code><mark class="highlight-brown">one</mark></code>
                &nbsp   concerns the number of entities to which another entity can be associated via a relationship set<br>
                Participation constraints <code><mark class="highlight-brown">full</mark></code> <code><mark class="highlight-brown">partial</mark></code><br>
                &nbsp   concerns whether $$\forall$$ entities in the entity set have to participate in the relationship set<br>
                </p>
            </div>
            
            <div><hr class="dashed"></div>
            
            <h3>4. Keys</h3>
            <div>
                <hr class="dotted">
                <h4>Super key</h4>
                
                <p>Super key of an entity set is a set of <mark class="highlight-orange">one or more attributes</mark> whose values uniquely determine each entity
                    <div class="indented">
                        <p>No two entities have exactly the same values in super key
                        </p>
                    </div>
                </p>
                <div class="column-list">
                    <div style="width:50%" class="column">
                        <p>In this example, each A (customer) has his/her <mark class="highlight-brown"><code>unique customer_id</code></mark>, then
                        <div class="indented">
                            <p>
                            {<mark class="highlight-brown"><code>customer_id</code></mark>, <mark class="highlight-brown"><code>name</code></mark>} is a super key
                            </p>
                            <p>
                            {<mark class="highlight-brown"><code>customer_id</code></mark>, <mark class="highlight-brown"><code>address</code></mark>} is another super key
                            </p>
                            <p>
                            {<mark class="highlight-brown"><code>customer_id</code></mark>, <mark class="highlight-brown"><code>name</code></mark>, <mark class="highlight-brown"><code>address</code></mark>} is also a super key
                            </p>
                        </div>
                        </p>
                    </div>
                    <div style="width:50%" class="column">
                            <img style="width:240px" src="img/db-er-3.jpeg"/>
                    </div>
                </div>
                
                <hr class="dotted">
                
                <h4>Candidate key</h4>
                
                <p>Candidate key of an entity set is a <mark class="highlight-orange">minimal super key</mark>
                </p>
                <p>
                Every relation will have <strong>at least one </strong>candidate key.
                </p>
                <div class="column-list">
                    <div style="width:50%" class="column">
                        <p class=""><strong>Minimal</strong> - no redundant attributes, i.e., no subset of a candidate key is still a key
                        <div class="indented">
                            <p class="">Although followings are <strong>super keys</strong>:
                            </p>
                            <p class="">
                            {<mark class="highlight-brown"><code>customer_id</code></mark>,<mark class="highlight-brown"><mark class="highlight-brown"> </mark></mark><mark class="highlight-brown"><code><mark class="highlight-brown"><mark class="highlight-brown">name</mark></mark></code></mark>}, {<mark class="highlight-brown"><code>customer_id</code></mark>, <mark class="highlight-brown"><code>address</code></mark>}, {<mark class="highlight-brown"><code>customer_id</code></mark>, <mark class="highlight-brown"><code>name</code></mark>, <mark class="highlight-brown"><code>address</code></mark>}
                            </p>
                        </div>
                        </p>
                        <p>
                        Only the <mark class="highlight-brown"><code>customer_id</code></mark> is a <strong>candidate key </strong>because it&#x27;s minimal
                        </p>
                    </div>
                    <div style="width:50%" class="column">
                        <img style="width:240px" src="img/db-er-3.jpeg"/>
                    </div>
                </div>

                
                <hr class="dotted">
                
                <h4> Primary Key</h4>
                
                <p>
                Primary key is a <mark class="highlight-orange">selected candidate key</mark>, when there are several candidate keys present
                <div>
                    <h3>In ER diagram</h3>
                    <ul>
                        <li><mark class="highlight-brown"><code>Underline</code></mark> the attribute (<mark class="highlight-brown"><code>Ellipses</code></mark>)</li><br>
                        <img style="width:350px" src="img/db-er-4.jpeg"/>
                    </ul>
                </div>
                </p>
            </div>
            
            <br>
            
            <div><hr class="solid"></div>
            
            <br>
            
            <h2>More on ER Diagram</h2>

            <div><hr class="dashed"></div>
            
            <h3>1. Different attribute types</h3>
            <div>
                <ul>
                    <li>Single vs Composite attributes<br><br><img style="width:432px" src="img/db-er-5.jpeg"/></li>
                    <li>Single-valued vs Multi-valued attributes <br>
                        <code><mark class="highlight-brown">Double ellipses</mark></code> is used to represent <strong>multi-valued</strong> attributes<br><br>
                        <img src="img/db-er-6.jpeg" alt="Double Ellipses" style="width:528px"><br>
                            → Here, <code><mark class="highlight-brown">age</mark></code> can be derived from the <code><mark class="highlight-brown">date of birth</mark></code>, we treat <code><mark class="highlight-brown">age</mark></code> as a <strong>derived attribute</strong></li>
                </ul>
            </div>
            
            <div><hr class="dashed"></div>
            
            <h3>2. Weak entity set</h3>
            <div>
                <ul>
                    <li>An entity set that <mark class="highlight-orange">does not have a primary key</mark> is referred to as a <strong>weak entity set</strong></li>
                    <li>The existence of a weak entity set <strong>depends</strong> on the <mark class="highlight-orange">existence</mark> of an <strong>identifying entity set</strong></li>
                    <ul>
                        <li>The weak entity set must relate to its identifying entity set via a <mark class="highlight-blue">total</mark>, <mark class="highlight-blue">many-to-one</mark> <strong>identifying relationship set</strong> from the weak entity set to the identifying entity set.</li>
                    </ul>

                    <li>weak entity set에는 primary key가 없지만 해당 entity set 내에서 식별 가능한 <strong><code><mark class="highlight-brown">discriminator</mark></code> (partial key)</strong>가 존재한다</li>

                    <li>Primary key를 갖고 있지 않은 <strong>entity set</strong>을 말한다</li>
            </div>
            
            <div><hr class="dotted"></div>
            
            <h3>In ER diagram</h3>
            <div>
                <ul>
                    <li><code><mark class="highlight-brown">Double rectangle</mark></code> is representing <strong>weak entity set</strong></li>
                    <li>The existence of a weak entity set depends on the existence of an <mark class="highlight-orange">identifying entity set</mark></li>
                    <ul>
                        <li>The existence of a weak entity set depends on the existence of an identifying entity set</li>
                    </ul>
                    <li><code><mark class="highlight-brown">Double diamond</mark></code> represents the <strong>identifying relationship set</strong></li>
                    <li><code><mark class="highlight-brown">Dashed line</mark></code> to represent a discriminator (partial key) of a weak entity set is a set of attributes that distinguish among the weak entities that depend on the same identifying entity</li>
                    <ul>
                        <li>The primary key of a weak entity set is formed by the primary key of the identifying entity set plus the weak entity set’s discriminator.</li>
                    </ul>
                    <li> Example:<br>
                        <p>
                        예를 들어 오른쪽의 section entity set에는 <code><mark class="highlight-brown">밑줄</mark></code> 친 attribute, 즉 primary key가 존재하지 않는다. 이 때 entity set 내에 <code><mark class="highlight-brown">점선 밑줄</mark></code>로 된 attribute들이 이 entity set의 discriminator이다.<br>

                        따라서 weak entity set에서는 <strong>연결된 entity set</strong>의 <strong>primary key</strong>와 discriminator</strong>를 합하여 <strong>primary key</strong>로 사용한다.<br>

                        위 diagram에서 section의 primary key는 {<code><mark class="highlight-brown">team_name</mark></code>, <code><mark class="highlight-brown">player_number</mark></code>}가 되는 것.<br>

                        ※ 두 줄로 된 diamond 형태는 <strong>identifying relationship</strong>을 나타내며, section이 course에 종속되어 course 없이는 의미를 갖지 못한다는 뜻이다.<br>

                        ※ entity set과 relationship set 사이의 직선 두 줄은 </trong>total participation</strong>, 모든 entity가 relationship에 속한다는 뜻이고, 한 줄은 <strong>partial participation</strong>, 일부 entitiy만 relationship에 속한다는 뜻이다.
                        </p></li>
                    <img src="img/db-er-8.jpeg" alt="Weak entity set" style="width:400px">
                </ul>
            </div>
            
            <div><hr class="dotted"></div>
            
            <div>
                <ol style="line-height:1.5em">
                    <li>Identify Entity sets</li>
                    <li>Identify relationship set</li>
                    <li>Identify the <strong>attributes</strong> of the entity sets</li>
                    <li>Identify thee <strong>mapping cardinalities</strong></li>
                    <li>Identify the total/partial <strong>participation</strong></li>
                    <li>Identify the <strong>primary key</strong> of the entity sets</li>
                </ol>
            </div>
            
            <div><hr class="dotted"></div>
            
            <div>
                <h4>Example</h4>
                <div>
                    <p>
                    We have to store NBA teams and NBA players<br>
                    Each player belongs to a team<br>
                    For each NBA team, we store team's name; for each payer, we store his number and name<br>
                    A Team can have more than one players, and a player can belongs to only one team<br>
                    A team must have some players and a player must belong to a team<br>
                    The <code><mark class="highlight-brown">team name</mark></code> can uniquely identify a team. Problem is: the <code><mark class="highlight-brown">player_number</mark></code> cannot uniquely identify a player<br>
                    </p>
                </div>
                <div>
                    <ul>
                        <li><code><mark class="highlight-brown">Dashed line</mark></code> represents a discriminator (partial key)</li>
                        <li><code><mark class="highlight-brown">Double diamond</mark></code> is depicting an identifying relationship set</li><br>
                        <img src="img/db-er-8.jpeg" alt="Weak entity set" style="width:400px">
                    </ul>
                </div>
            
            <div><hr class="dashed"></div>
            
            <h3>3. Role</h3>
            
            <div><p>Double diamond is depicting an identifying relationship set</p></div>
            
            <div>
                <p>
                Example: Please build a system to store the <strong>manager</strong> and <strong>worker</strong> information for UBank. For each manager, we record his/her manager ID, name and address; for each worker, we record its worker ID, name and address. Each manager can have <u>no, one or more</u> workers, and each worker has to report to <u>only one</u> manager.
                </p>
                
                <p><img src="img/db-er-9.jpeg" alt="Role" style="width:340px"></p>
                
                <ul>
                    <li>Entity sets of a relationship need not be distinct. So above ER diagram can be modified as below: </li>
                    <ul>
                        <li>The label <code><mark class="highlight-brown">manager</mark></code> and <code><mark class="highlight-brown">worker</mark></code> are called <strong>roles</strong></li>
                        <li>They specify how employee entities interact via the <code><mark class="highlight-brown">works-for</mark></code> relationship set.</li>
                    </ul>
                    <li>Cardinality</li>
                    <ul>
                        <li>An employee <code><mark class="highlight-brown">worker</mark></code> works for <strong>one</strong> manager</li>
                        <li>An employee <code><mark class="highlight-brown">manager</mark></code> can have <strong>more than one</strong> worker</li>
                    </ul>
                    <li>Participation</li>
                    <ul>
                        <li>An employee <code><mark class="highlight-brown">worker</mark></code> may not work for any manager</li>
                        <li>An employee <code><mark class="highlight-brown">manager</mark></code> can have no workers work for him/her.</li>
                    </ul>
                    <p><img src="img/db-er-10.jpeg" alt="No distinct entity sets of relationship" style="width:340px"></p>
                </ul>
            </div>
            
            <div><hr class="dashed"></div>
            
            <h3>4. Specialization</h3>
            <div class="column-list">
                <div style="width:50%" class="column">
                    <p>
                    <ul>
                        <li>We designate sub-groupings within an entity set that are distinctive from other entities in the set</li>
                        <li>A <strong>lower-level entity set</strong> inherits all attributes and relationship set participation of the <strong>higher-level entity set</strong> to which is it linked</li>
                        <li>Lower level entity set can have its own attributes</li>
                    </p>
                </div>
                <div style="width:50%" class="column">
                        <img style="width:240px" alt="ISA" src="img/db-er-11.jpeg"/>
                </div>
            </div>
            
            <div><hr class="dotted"></div>

            <h4>Total or Partial</h4>
            <div>
                Specifies whether an entity in the higher level-entity set must belong to at least one of the lower-level entity sets within a specialization.
            </div>
            <div class="column-list">
                <div style="width:50%" class="column">
                    <p><strong>Total specialization</strong></p>
                    <p>
                    An <code><mark class="highlight-brown">MSc student</mark></code> MUST BE either a <code><mark class="highlight-brown">full-time student</mark></code> or a <code><mark class="highlight-brown">part-time student</mark></code>, so all MSc students must participate in this specialization.
                    </p>
                </div>
                <div style="width:50%" class="column">
                        <img style="width:240px" alt="ISA" src="img/db-er-12.jpeg"/>
                </div>
            </div>
            
            <div class="column-list">
                <div style="width:50%" class="column">
                    <p><strong>Partial specialization</strong></p>
                    <p>
                    A <code><mark class="highlight-brown">book</mark></code> may not be specialized to <code><mark class="highlight-brown">story book</mark></code> or <code><mark class="highlight-brown">comics</mark></code>, so not all books are participating in this specialization.
                    </p>
                </div>
                <div style="width:50%" class="column">
                        <img style="width:240px" alt="ISA" src="img/db-er-13.jpeg"/>
                </div>
            </div>
            
            <div><hr class="dotted"></div>
            
            <h4>Disjoint or Oveerlappint</h4>
            <div>
                Constraints on whether entities may belong to more than one lower-level entity set within a single specialization.
            </div>
            <div class="column-list">
                <div style="width:50%" class="column">
                    <p><strong>Disjoint Specialization</strong></p>
                    <p>
                    An <code><mark class="highlight-brown">MSc student</mark></code> must be **either** a <code><mark class="highlight-brown">full-time student</mark></code> or a <code><mark class="highlight-brown">part-time student</mark></code>, so the specialization is disjoint.
                    </p>
                    <p>
                    We use a keyword <strong>Disjoint</strong> to indicate it.
                    </p>
                </div>
                <div style="width:50%" class="column">
                        <img style="width:240px" alt="ISA" src="img/db-er-14.jpeg"/>
                </div>
            </div>
            
            <div class="column-list">
                <div style="width:50%" class="column">
                    <p><strong>Overlapping specialization</strong></p>
                    <p>
                    A <code><mark class="highlight-brown">book</mark></code> can be <strong>both</strong> a <code><mark class="highlight-brown">story book</mark></code> and <code><mark class="highlight-brown">comic</mark></code>, so the specialization is overlapping.
                    </p>
                    <p>
                    We do not need to specify anything, as overlapping specialization is the default.
                    </p>
                </div>
                <div style="width:50%" class="column">
                        <img style="width:240px" alt="ISA" src="img/db-er-13.jpeg"/>
                </div>
            </div>
            
            
        </div>
    </body>
</html>

